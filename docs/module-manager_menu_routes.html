<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: manager/menu/routes</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: manager/menu/routes</h1>

    




<section>

<header>
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">The routes that handle loading the manager menu and updates to the menu and menu item ingredients.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:express</li>
        
            <li>module:dotenv</li>
        
            <li>module:path</li>
        
            <li>module:pg</li>
        
            <li>module:process</li>
        
            <li>module:body-parser</li>
        </ul>
    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~id_to_name"><span class="type-signature">(inner) </span>id_to_name<span class="type-signature"> :Map</span></h4>




<div class="description">
    Map from product_id to product name
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Map</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="~menu"><span class="type-signature">(inner) </span>menu<span class="type-signature"> :Array</span></h4>




<div class="description">
    Array holding menu items like {menu_item_id: 'item', category: 'drink', price: 5.00}
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line41">line 41</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="~menu_ingredients"><span class="type-signature">(inner) </span>menu_ingredients<span class="type-signature"> :Array</span></h4>




<div class="description">
    Parallel array to menu holding arrays of menu item ingredients like {product_id: 0, quantity: 3.4}
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line50">line 50</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="~name_to_id"><span class="type-signature">(inner) </span>name_to_id<span class="type-signature"> :Map</span></h4>




<div class="description">
    Map from product name to product_id
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Map</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line68">line 68</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="~pool"><span class="type-signature">(inner) </span>pool<span class="type-signature"> :Pool</span></h4>




<div class="description">
    Initialize pool for accessing the database
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Pool</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="~add_item/sequential_queries"><span class="type-signature">(inner) </span>add_item/sequential_queries<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    If a new item is being made, execute sequential queries to update the variables menu and item_ingredients, update the database menu and the database menu item ingredients
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line304">line 304</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~get/"><span class="type-signature">(inner) </span>get/<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Upon loading the page, execute 3 queries to: load menu items, load a map from inventory product_ids to product names and to load the ingredients for menu items
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line81">line 81</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~put/update_ingredients"><span class="type-signature">(inner) </span>put/update_ingredients<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Update the item ingredients associated with an item
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line191">line 191</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~put/update_menu"><span class="type-signature">(inner) </span>put/update_menu<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Handle all updates to the menu, including creating new items, deleting items and editing existing items.
The manager can add new items by changing the item name/menu_item_id at the last row in the table.
Items that exist already can be edited by clicking on the cell and changing the value, but the menu_item_id cannot be changed except for when deleting the item.
To delete an item, delete the name/change it to nothing.
The manager can edit the item ingredients by clicking the edit button next to the item and following similar rules. Ingredients cannot be added if they are not part of the inventory.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line256">line 256</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~query1"><span class="type-signature">(inner) </span>query1<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Query the database for menu items and store in menu
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line91">line 91</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~query2"><span class="type-signature">(inner) </span>query2<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Query the database for product_ids and product names and store in id_to_name and name_to_id
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line112">line 112</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~query3"><span class="type-signature">(inner) </span>query3<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Query the database for item ingredients for all menu items and store in item_ingredients
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line133">line 133</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~remove_item/sequential_delete"><span class="type-signature">(inner) </span>remove_item/sequential_delete<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    If deleting an item from the menu, remove it first from the menu_item_ingredients then from the menu
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line340">line 340</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~sequential_queries"><span class="type-signature">(inner) </span>sequential_queries<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Execute query1, query2 and query3 sequentially then render the menu
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line163">line 163</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="~update_ingredients/sequential_queries"><span class="type-signature">(inner) </span>update_ingredients/sequential_queries<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Execute sequential queries to delete all ingredients associated with an item and replace them with the updated ingredients
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="manager_menu_routes.js.html">manager/menu/routes.js</a>, <a href="manager_menu_routes.js.html#line240">line 240</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-app.html">app</a></li><li><a href="module-inventoryRouter.html">inventoryRouter</a></li><li><a href="module-login_routes.html">login/routes</a></li><li><a href="module-manager_inventory.html">manager/inventory</a></li><li><a href="module-manager_menu_listeners.html">manager/menu/listeners</a></li><li><a href="module-manager_menu_routes.html">manager/menu/routes</a></li><li><a href="module-manager_menu_board.html">manager/menu_board</a></li><li><a href="module-manager_reports.html">manager/reports</a></li><li><a href="module-manager_reports_routes.html">manager/reports/routes</a></li><li><a href="module-menu_board_routes.html">menu_board/routes</a></li><li><a href="module-server_routes.html">server/routes</a></li><li><a href="module-server_server.html">server/server</a></li><li><a href="module-user.html">user</a></li><li><a href="module-user_cart.html">user/cart</a></li><li><a href="module-user_routes.html">user/routes</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Tue May 02 2023 22:10:34 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>